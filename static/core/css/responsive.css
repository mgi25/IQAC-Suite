/* --- Layout shell -------------------------------------------------------- */
.app-shell {
  display: grid;
  grid-template-columns: minmax(220px, 18vw) 1fr;
  gap: clamp(16px, 2vw, 28px);
  align-items: start;
}
.app-sidebar {
  position: sticky;
  top: 72px;
  height: calc(100dvh - 72px);
  overflow: auto;
  padding: clamp(8px, 1.5vw, 16px);
}
.app-content {
  min-width: 0;
  padding: clamp(8px, 1.8vw, 24px);
}

/* --- Cards / sections ---------------------------------------------------- */
.card {
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 6px 24px rgba(2, 6, 23, 0.06);
  padding: clamp(14px, 2vw, 24px);
}
.card-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(12px, 1.6vw, 24px);
}

/* Headings scale with screen */
.h1 { font-size: clamp(20px, 2.2vw, 34px); line-height: 1.2; font-weight: 800; }
.h2 { font-size: clamp(16px, 1.6vw, 22px); }

/* Tables: scroll when narrow */
.table-responsive { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }
.table-responsive table { min-width: 720px; }

/* Forms */
.form-row { display: grid; grid-template-columns: repeat(12, 1fr); gap: clamp(10px, 1.2vw, 16px); }
.col-6 { grid-column: span 6; min-width: 0; }
.col-12 { grid-column: span 12; }

/* Utilities */
.w-full { width: 100%; }
.gap-xs { gap: 8px; } .gap-sm { gap: 12px; } .gap-md { gap: 16px; } .gap-lg { gap: 24px; }

/* Breakpoints */
@media (max-width: 1280px) { .card-grid { grid-template-columns: 1fr; } }
@media (max-width: 1024px) {
  .app-shell { grid-template-columns: 72px 1fr; }
  .sidebar-label { display: none; }
}
@media (max-width: 768px) {
  .app-shell { grid-template-columns: 1fr; }
  .app-sidebar { position: static; height: auto; order: -1; }
}
@media (max-width: 480px) { .table-responsive table { min-width: 560px; } }

/* Make common fixed widths fluid */
[class*="container"], .container, .page-wrapper {
  max-width: 1200px; margin-inline: auto;
  padding-inline: clamp(12px, 2.4vw, 28px);
}
img, video { max-width: 100%; height: auto; }

/* Prevent header overlap on alerts/toasts under a fixed topbar */
.page-offset-top { padding-top: clamp(8px, 2.2vw, 24px); }
/* SAFETY HOTFIX: default single-column shell */
.app-shell {
  grid-template-columns: 1fr;
}

/* Enable two columns only when sidebar is present */
.app-shell.has-sidebar {
  grid-template-columns: minmax(220px, 18vw) 1fr;
}

@media (max-width: 1024px) {
  .app-shell { grid-template-columns: 1fr; }
  .app-shell.has-sidebar { grid-template-columns: 72px 1fr; }
  .app-shell.has-sidebar .sidebar-label { display: none; }
}
@media (max-width: 768px) {
  .app-shell { grid-template-columns: 1fr; }
  .app-shell.has-sidebar { grid-template-columns: 1fr; }
  .app-shell.has-sidebar .app-sidebar { position: static; height: auto; order: -1; }
}
